<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>Introdução ao geoprocessamento para Etnobiologia e Conservação da Biodiversidade</title>
    <meta charset="utf-8" />
    <meta name="author" content="Maurício H. Vancine" />
    <link href="libs/remark-css/metropolis.css" rel="stylesheet" />
    <script src="https://use.fontawesome.com/5235085b15.js"></script>
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Introdução ao geoprocessamento para Etnobiologia e Conservação da Biodiversidade <br><br>
## 2 Funcionamento da linguagem R <br><br> xaringan [presentation ninja]
### Maurício H. Vancine
### 30/09/2019

---




class: clear, center, middle
background-image: url(https://www.rstudio.com/wp-content/uploads/2018/10/RStudio-Logo-flat.svg)
background-size: 600px
background-position: 50% 50%

---

# 2 Funcionamento da linguagem R

## Tópicos
2.1 RStudio
&lt;br&gt;
2.2 Editor/Roteiro (*code*/*script*)
&lt;br&gt;
2.3 Comentários (*#*)
&lt;br&gt;
2.4 Atribuição (*&lt;-*)
&lt;br&gt;
2.5 Objetos
&lt;br&gt;
2.6 Funções
&lt;br&gt;
2.7 Ajuda (*help*)
&lt;br&gt;
2.8 Pacotes
&lt;br&gt;
2.9 Ambiente (*environment*/*workspace*)
&lt;br&gt;
2.10 Citações
&lt;br&gt;
2.11 Principais erros

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/rstudio.png)
background-size: 800px
background-position: 50% 50%

# 2.1 RStudio

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/rstudio.png)
background-size: 700px
background-position: 50% 70%

# 2.1 RStudio

## Customizá-lo

`Ferramentas (Tools) -&gt; Opções Globais (Global Options) -&gt; Aparência (Appearance) -&gt; Tema do editor (Editor Theme)`

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/programar.png)
background-size: 800px
background-position: 50% 50%

# 2.1 RStudio

## Programar

---

background-image: url(https://media.giphy.com/media/9o9dh1JRGThC1qxGTJ/giphy.gif)
background-size: 500px
background-position: 50% 70%

# 2.1 RStudio

## Programar

### Ter calma e paciência...

---

background-image: url(https://media.giphy.com/media/1r8SrQlamkYssy2WYX/giphy.gif)
background-size: 400px
background-position: 50% 75%

# 2.1 RStudio

## Programar

### É muito complicado no começo...

---

background-image: url(https://media.giphy.com/media/12bVDtXPOzYwda/giphy.gif)
background-size: 500px
background-position: 50% 70%


# 2.1 RStudio

## Programar

### Tentem não ficar furioso(a)s...

---

background-image: url(https://media.giphy.com/media/M11UVCRrc0LUk/giphy.gif)
background-size: 600px
background-position: 50% 70%

# 2.1 RStudio

## Programar

### E principalmente, não desistam...

---

background-image: url(https://media.giphy.com/media/RHmJc6BHbwiK4/giphy.gif)
background-size: 600px
background-position: 50% 70%

# 2.1 RStudio

## Programar

### ...principalmente quando acontecer um erro...

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/script1.png)
background-size: 800px
background-position: 50% 50%

# 2.1 RStudio

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/script2.png)
background-size: 800px
background-position: 50% 50%

# 2.1 RStudio

`R Script (Ctrl + Shift + N)`

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/script3.png)
background-size: 800px
background-position: 50% 50%

# 2.1 RStudio

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/rstudio_console.png)
background-size: 800px
background-position: 50% 50%

# 2.1 RStudio

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/rstudio_console.png)
background-size: 500px
background-position: 50% 98%

# 2.1 RStudio

## Descrição das janelas

- **Editor/Script**: é onde escrevemos nossos códigos
- **Console**: é onde os códigos são rodados e vemos as saídas
- **Environment**: painel com todos os objetos criados na sessão
- **History**: painel com o histórico dos comandos rodados
- **Files**: painel que mostra os arquivos no diretório de trabalho
- **Plots**: painel onde os gráficos são apresentados
- **Packages**: painel que lista os pacotes
- **Help**: painel onde a documentação das funções é exibida

---

# 2.1 RStudio

## Atalhos úteis:

- **f1**: abre o painel de *Help*
- **ctrl + Enter**: roda a linha selecionada no script
- **ctrl + shift + N**: abre um novo script
- **ctrl + S**: salva um script
- **ctrl + Z**: desfaz uma operação
- **ctrl + shift + Z**: refaz uma operação
- **alt + -**: insere um sinal de atribuição (&lt;-)
- **ctrl + shift + M**: insere um operador pipe (%&gt;%) 
- **ctrl + shift + C**: comenta uma linha no script - insere um (#) 
- **ctrl + shift + R**: insere uma sessão (# ----------------------)
- **ctrl + shift + H**: abre uma janela para selecionar o diretório de trabalho
- **ctrl + shift + f10**: reinicia o console
- **ctrl + L**: limpa os comandos do console 
- **alt + shift + K**: abre uma janela com todos os atalhos disponíveis

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/rstudio_console_func.png)
background-size: 800px
background-position: 50% 50%

# 2.1 RStudio

## Funcionamento

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/script3.png)
background-size: 700px
background-position: 50% 85%

# 2.2 Editor/Roteiro (*code*/*script*)

## Script

- São **rascunhos** dos comandos
- Será neles que os **códigos serão escritos** e depois **enviados ao console do R**
- São **arquivos de texto simples**, que serão salvos no formato .R

---

# 2.2 Editor/Roteiro (*code*/*script*)

## Esclarecimentos

&lt;br&gt;&lt;br&gt;

### Isso é texto, não digite no R!

&lt;br&gt;


```r
print("Isso é o resultado que deve aparecer no console")
```

```
## [1] "Isso é o resultado que deve aparecer no console"
```

---

# 2.2 Editor/Roteiro (*code*/*script*)

## Escolham uma linha e digitem no *script*:

&lt;br&gt;&lt;br&gt;


```r
"Meu primeiro script no R."
"Meu segundo script no R."
"Meu milésimo script no R."
"Meu n-ésimo script no R."
```

---

background-image: url(https://www.perl.com/images/building-a-utf8-encoder-in-perl/bart-simpson-utf8.png)
background-size: 600px
background-position: 50% 70%

# 2.2 Editor/Roteiro (*code*/*script*)

## Escolher UTF-8

`Ferramentas (Tools) -&gt; Opções Globais (Global Options) -&gt;  (Code) -&gt; s (Saving) -&gt; Default text endcoding (UTF-8)`

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/script4.png)
background-size: 800px
background-position: 50% 50%

# 2.2 Editor/Roteiro (*code*/*script*)
`ctrl + S`

---

class: inverse, center, middle

# Calma!!!

---

class: inverse, center, middle

# Onde vocês iam salvar?!

---

class: inverse, center, middle
background-image: url(https://media.giphy.com/media/6gLyE15StAs3C/giphy.gif)
background-size: 700px
background-position: 50% 50%

---

# Vamos padronizar:

### Pasta do diretório `github/disciplina-geoprocessamento/`:

### 00_ementa
### 01_aulas
### **02_scripts**
### 03_dados
### 04_exercicios
### 05_material

---

class: inverse, center, middle

# Calma!!!

---

class: inverse, center, middle

# Que nome vocês iam salvar?!

---

class: inverse, center, middle
background-image: url(https://media.giphy.com/media/6gLyE15StAs3C/giphy.gif)
background-size: 700px
background-position: 50% 50%

---

# Vamos padronizar:

&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;

## "script_aula_02.R"

---

# Sigam as instruções

&lt;br&gt;&lt;br&gt;&lt;br&gt;

## 1. Fechem o RStudio

--

## 2. Abram o RStudio

--

## 3. Abram o script salvo

--

## 4. Apaguem seu conteúdo

---

# Primeiros comandos

### Todos os **comandos** serão digitados no **script**!

--

### Deixem o **cursor** em **qualquer local da linha** e executem essa linha utilizando essa **combinação**: 

### `ctrl + Enter`

--

### Vamos testar:

--


```r
1
```

```
## [1] 1
```
--

```r
1 + 2
```

```
## [1] 3
```

---

class: inverse, center, middle

# Todos entenderam como iremos fazer até o final dessa aula?

---

class: inverse, center, middle

# Muito bem, podem apagar essas duas linhas

---

# 2.3 Comentários (*#*)

### Comentários **não são lidos** pelo R

--

### São úteis para **descrever informações** sobre o **script** ou **comandos**

--

### Cabeçalho


```r
### aula 02 - funcionamento do r ###

# seu nome
# 30-09-2019
```

--

### Informações sobre os comandos


```r
## comentarios
# o r nao le o codigo depois do # (hash)

42 # esses palavras nao sao executadas, apenas o 42
```

```
## [1] 42
```

---

# Calculadora

## Operações matemáticas simples


```r
## operacoes aritmeticas (+, -, *, /, ^)
10 + 2 # adicao
```

```
## [1] 12
```
--

```r
10 - 2 # subtracao
```

```
## [1] 8
```
--

```r
10 * 2 # multiplicacao
```

```
## [1] 20
```

---

# Calculadora

## Ordem operações aritméticas (^ &gt;&gt; * ou / &gt;&gt; + ou -)

  

```r
# sem especificar - segue a ordem
1 * 2 + 2 ^ 2
```

```
## [1] 6
```
--

```r
# especificando - segue os parênteses
(1 * (2 + 2)) ^ 2
```

```
## [1] 16
```

---

# Colchetes

## Famigerados colchetes na resposta do console....


```r
## famigerados colchetes [] na resposta
10 + 2 # adicao
```

```
## [1] 12
```
--

```r
# indicam a posicao do numero em uma sequencia
10:60 # sequencia unitaria de 10 a 60
```

```
##  [1] 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32
## [24] 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55
## [47] 56 57 58 59 60
```

---

class: inverse, middle, center

# Fácil até aqui? Então vamos complicar...

---

# 2.4 Atribuição (*&lt;-*)

### Possibilita a **manipulação de dados**

--

### Dados são "atribuídos" a **objetos**, que são **palavras** que "guardam" esses dados

--

### Iremos utilizar os símbolos **"&lt;" (menor)**, seguido de **"-" (menos)**, **sem espaço**!!!

&lt;br&gt;

--

## **palavra &lt;- dados**

### `alt + -`

---

# 2.4 Atribuição (*&lt;-*)

### Vamos atribuir o **valor 10** à palavra **obj_10**

--


```r
## atribuicao - simbolo (&lt;-)
obj_10 &lt;- 10 
```

--

### Agora a palavra **obj_10** vale **10**

#### Mas....

---

class: inverse, center, middle
background-image: url(https://media.giphy.com/media/6uGhT1O4sxpi8/giphy.gif)
background-size: 700px
background-position: 50% 50%

---

# 2.4 Atribuição (*&lt;-*)

## Sempre **confira** a atribuição!!!

## Chame o objeto **novamente**!!!

--


```r
## atribuicao - simbolo (&lt;-)
obj_10 &lt;- 10 
*obj_10
```

```
## [1] 10
```

--

### Outro exemplo:

```r
## atribuicao - simbolo (&lt;-)
obj_2 &lt;- 2
*obj_2
```

```
## [1] 2
```

---

class: inverse, middle, center

# Os objetos podem ser visualizados no painel **Environment**

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/rstudio_ambiente.png)
background-size: 800px
background-position: 50% 50%

# 2.4 Atribuição (*&lt;-*)

##  Ambiente (*Environment*)

---

# 2.4 Atribuição (*&lt;-*)

## CUIDADO 1!
### O R **sobrescreve** os valores dos objetos com o **mesmo nome**!

--


```r
# sobreescrever o valor dos objetos
obj &lt;- 100
obj
```

```
## [1] 100
```
--

```r
obj &lt;- 2
obj
```

```
## [1] 2
```

---

# 2.4 Atribuição (*&lt;-*)

## CUIDADO 2!
### O R tem **limitações** ao nomear objetos!

--

1. Nome de objetos só podem **começar por letras ou pontos (.)**

--

2. Nome de objetos só podem **conter letras, números, underscores (_) ou pontos (.)**

--

3.  R é *case-sensitive*, i.e., ele difere **letras maiúsculas** de **minúsculas**. Assim, um objeto chamado *"resposta"* é diferente do objeto *"RESPOSTA"*

--

4. Evitem utilizar **letras maiúsculas**, **acentos** ou **cedilha**

--

5. Nome de objetos não podem ser iguais a **nomes especies**: 

`break, else, FALSE, for, function, if, Inf, NA, NaN, next, repeat, return, TRUE, while`

---

# 2.5 Objetos

### Podemos utilizar **objetos** para fazer operações

--


```r
# definir dois objetos
va1 &lt;- 10
va1
```

```
## [1] 10
```

```r
va2 &lt;- 2
va2
```

```
## [1] 2
```

---

# 2.5 Objetos

### Podemos utilizar **objetos** para fazer operações


```r
# operacoes com objetos
va1 + va2 # adicao
```

```
## [1] 12
```
--

```r
va1 - va2 # subtracao
```

```
## [1] 8
```

---

# 2.5 Objetos

### Podemos ainda **atribuir os resultados** das operações a **objetos**


```r
# operacoes com objetos e atribuicao
adi &lt;- va1 + va2 # adicao
adi
```

```
## [1] 12
```
--

```r
sub &lt;- va1 - va2 # subtracao
sub
```

```
## [1] 8
```

---

class: inverse, middle, center

# Dúvidas até aqui?

---

# 2.6 Funções

## Funções
### **Comandos** que realizam **operações** em **argumentos**

--

## Estrutura de uma função:

### **nome_da_funcao**(**argumento1**, **argumento2**)

&lt;br&gt;


```r
## funcoes
# comandos que realizam operacoes em argumentos
# estrutura de uma funcao
# 1. nome da funcao - remete ao que ela faz
# 2. parenteses - limitam a funcao
# 3. argumentos - onde a funcao ira atuar 
# 4. virgulas - separam os argumentos
```

---

# 2.6 Funções

### Os **argumentos** de uma função podem ser de **dois tipos**:

--

1. **Objetos**: a função irá **alterar os valores** atribuídos aos objetos

--

2. **Parâmetros**: valores fixos que informam um **método** ou a realização de uma **operação**. Informamos o **nome desse argumento**, seguido de **"="** e um **texto**, como *TRUE* ou *FALSE*.

--

### Exemplo:

```r
sum(1, NA)
```

```
## [1] NA
```

```r
sum(1, NA, na.rm = TRUE)
```

```
## [1] 1
```

---

# 2.6 Funções

## Argumentos como **valores**

&lt;br&gt;&lt;br&gt;


```r
# funcoes - argumentos como valores
# soma
sum(10, 2)
```

```
## [1] 12
```

--

&lt;br&gt;


```r
# produto
prod(10, 2)
```

```
## [1] 20
```

---

# 2.6 Funções

## Argumentos como **objetos**

&lt;br&gt;&lt;br&gt;


```r
# funcoes - argumentos como objetos
# soma
sum(va1, va2)
```

```
## [1] 12
```

--

&lt;br&gt;


```r
# produto
prod(va1, va2)
```

```
## [1] 20
```

---

# 2.6 Funções

## Nomes dos argumentos


```r
# funcoes - nome dos argumentos
# repeticao - todos
rep(x = 1:5, times = 10)
```

```
##  [1] 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5
## [36] 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5
```

&lt;br&gt;&lt;br&gt;

--


```r
# repeticao - cada
rep(x = 1:5, each = 10)
```

```
##  [1] 1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 3 3 3 3 3 3 3 3 3 3 4 4 4 4 4
## [36] 4 4 4 4 4 5 5 5 5 5 5 5 5 5 5
```

---

# 2.6 Funções

## Listar os argumentos


```r
args(sum)
```

```
## function (..., na.rm = FALSE) 
## NULL
```

&lt;br&gt;&lt;br&gt;

--


```r
args(lm)
```

```
## function (formula, data, subset, weights, na.action, method = "qr", 
##     model = TRUE, x = FALSE, y = FALSE, qr = TRUE, singular.ok = TRUE, 
##     contrasts = NULL, offset, ...) 
## NULL
```

---

# 2.6 Funções

## Atribuição dos resultados das funções à objetos


```r
## atribuicao dos resultados
# repeticao - todos
rep_times &lt;- rep(x = 1:5, times = 10)
rep_times
```

```
##  [1] 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5
## [36] 1 2 3 4 5 1 2 3 4 5 1 2 3 4 5
```
--

```r
## atribuicao dos resultados
# repeticao - todos
rep_each &lt;- rep(x = 1:5, each = 10)
rep_each
```

```
##  [1] 1 1 1 1 1 1 1 1 1 1 2 2 2 2 2 2 2 2 2 2 3 3 3 3 3 3 3 3 3 3 4 4 4 4 4
## [36] 4 4 4 4 4 5 5 5 5 5 5 5 5 5 5
```

---

class: inverse, middle, center

# Nesse momento, vocês já foram apresentados à 50% do funcionamento do R

---

# Atribuição, função e linha temporal

--

**Criar** dois objetos

```r
# criar dois objetos
foo &lt;- 2
bar &lt;- 3
```

--

**Somar** esses objetos e **atribuição** ao objeto *su*

```r
# somar e atribuir
su &lt;- sum(foo, bar)
su
```

```
## [1] 5
```

--

**Raiz quadrada** do *su* e **atribuição** ao *sq*

```r
# raiz e atribuir
sq &lt;- sqrt(su)
sq
```

```
## [1] 2.236068
```

---

# Atribuição, função e linha temporal

## Esse é o processo de programação no R: 

&lt;br&gt;&lt;br&gt;

## 1. **Atribuição** de dados a objetos

## 2. **Funções** que **operam e mudam** esses dados

## 3. Nova **atribuição** desses resultados a novos objetos

---

# Atribuição, função e linha temporal

**Criar** dois objetos

```r
# criar dois objetos
foo &lt;- 100
bar &lt;- 300
```

--

**Multiplicar** esses objetos e **atribuição** ao objeto *mult*

```r
# multiplicar e atribuir
mu &lt;- prod(foo, bar)
mu
```

```
## [1] 30000
```

--

**Logaritmo natural** do *mu* e **atribuição** ao *lo*

```r
# raiz e atribuir
lo &lt;- log(mu)
lo
```

```
## [1] 10.30895
```

---

class: inverse, middle, center

# E vocês devem estar se perguntando: e como saber o nome das funções?!

---

class: inverse, middle, center
background-image: url(https://media.giphy.com/media/3oKIPmM4hkQIf4p5T2/giphy.gif)
background-size: 800px
background-position: 50% 50%

---

class: clear
background-image: url(http://material.curso-r.com/rbase/figures/ajuda_google.png)
background-size: 800px
background-position: 50% 50%

## Uma **maracutaia** para ajudar!

---

class: inverse, middle, center

# E como saber como usar uma função?

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/rstudio_help.png)
background-size: 600px
background-position: 50% 98%

# 2.7 Ajuda (*help*)
## Descreve as informações de uma função


```r
## ajuda
# descreve as informacoes de uma funcao

help("mean") # arquivo .html

?mean
```

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/help.png)
background-size: 600px
background-position: 50% 50%

# 2.7 Ajuda (*help*)

---

# 2.7 Ajuda (*help*)

## Resumo do *help*

&lt;br&gt;&lt;br&gt;

1. **Description**: faz um resumo geral sobre o uso da função
2. **Usage**: mostra como a função deve ser utilizada e quais argumentos podem ser especificados
3. **Arguments**: explica o que é cada um dos argumentos
4. **Details**: explica alguns detalhes sobre o uso e aplicação da função (geralmente poucos)
5. **Value**: mostra o que sai no output após usar a função (os resultados)
6. **Note**: notas sobre a função
7. **Authors**: lista os autores da função (quem escreveu os códigos em R)
8. **References**: referências para os métodos usados
9. **See also**: mostra outras funções relacionadas que podem ser consultadas
10. **Examples**: exemplos do uso da função. Copie e cole os exemplos no R para ver como funciona

---

class: inverse, middle, center

# E de onde vêm as funções?!

---

# 2.8 Pacotes
## Funções vêm de **duas fontes**:

&lt;br&gt;&lt;br&gt;&lt;br&gt;

### 1. Pacotes já **instalados por padrão** e que são **carregados** quando abrimos o R

--
&lt;br&gt;

### 2. Pacotes que **instalamos** e **carregamos** com comandos

---

class: inverse, middle, center

# E o que são pacotes afinal?!

---

# 2.8 Pacotes

## **Coleção de funções** para executar **tarefas específicas**

--

### Duas fontes: **CRAN** (*finalizados*) e **GitHub** (em *desenvolvimento*)

--

### Verificar **pacotes carregados**

```r
# verificar pacotes carregados
search()
```

```
## [1] ".GlobalEnv"        "package:stats"     "package:graphics" 
## [4] "package:grDevices" "package:utils"     "package:datasets" 
## [7] "package:methods"   "Autoloads"         "package:base"
```

--

### Verificar **pacotes instalados**

```r
# verificar pacotes instalados
library()
```

---

# 2.8 Pacotes

## Ex.: pacote `vegan` 

&lt;br&gt;&lt;br&gt;

## Fontes:

### Pacotes do CRAN
https://cran.r-project.org/web/packages/vegan/index.html

&lt;br&gt;

### Pacotes do GitHub
https://github.com/vegandevs/vegan

---

# 2.8 Pacotes

## Instalar pacotes

--

### 1. Instala-se apenas **uma vez**

--

### 2. **Precisa** estar conectado à **internet**

--

### 3. O **nome do pacote precisa** estar entre **aspas**

--

### 4. Função (CRAN): 
`install.packages()`


```r
# instalar pacotes
install.packages("vegan")
```

---

# 2.8 Pacotes

##  Carregar pacotes

--

### 1. Carrega-se **toda vez** que se abre **uma nova sessão do R**

--

### 2. **Não precisa** estar conectado à **internet**

--

### 3. O **nome do pacote não precisa** estar entre **aspas**

--

### 4. Funções: 
`library()` ou `require()`



```r
# carregar pacotes
library(vegan)
```

```
## Loading required package: permute
```

```
## Loading required package: lattice
```

```
## This is vegan 2.5-6
```

---

# 2.8 Pacotes

## Instalar pacotes do GitHub
### 1. Instalar pacote **devtools**

```r
# instalar pacote devtools
install.packages("devtools")

# carregar pacote devtools
library(devtools)
```

--

### 2. Instalar usando a função `install_github`
### Atentar para usar essa forma **usuário/repositório**

--


```r
# instalar pacote do github
install_github("vegandevs/vegan")

# carregar pacote do github
library("vegan")
```

---

# 2.8 Pacotes

## Atualização de pacotes
### Pacotes são **atualizados com frequência** (bimensal | semestral | anual)
--

### Pacotes **não atualizam sozinhos**

--

### É uma função que **demora** para rodar

&lt;br&gt;


```r
# atualizacao dos pacotes instalados 
update.packages(ask = FALSE) 
```

---

class: inverse, middle, center

# E onde ficam esses pacotes no meu notebook?

---

# 2.8 Pacotes

&lt;br&gt;&lt;br&gt;&lt;br&gt;

## Windows
C:/Users/**nome_do_computador**/Documentos/R/win-library/**numero_da_versao_r**

&lt;br&gt;

## Unix (Linux e MacOS):
/home/**nome_do_computador**/R/**tipo_do_computador**/**numero_da_versao_r**

---

# 2.8 Pacotes

## Exemplos:

### **vegan** – análises de comunidades
### **raster** – manejo de rasters
### **ggplot2** – gráficos
### **bblme** – seleção de modelos (AIC)
### **dismo** – modelos de distribuição de espécies
### **tidyverse** – data science

---

class: inverse, middle, center

# E quantos pacotes existem?

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/pacotes.png)
background-size: 600px
background-position: 35% 60%

# 2.8 Pacotes


```r
nrow(available.packages(repos = "http://cran.r-project.org"))
```

```
## [1] 14960
```

&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;

https://cran.r-project.org/web/packages/available_packages_by_name.html

---

# 2.8 Pacotes

## Detalhes de um pacote


```r
library(help = "vegan")
```

&lt;br&gt;&lt;br&gt;&lt;br&gt;

- Descrição
- Versão
- Autores
- Dependências
- Sites
- Repositório
- Índice de funções
- Diretório

---

background-image: url(https://raw.githubusercontent.com/mauriciovancine/curso-r/master/imagens/rstudio_ambiente.png)
background-size: 800px
background-position: 50% 50%

# 2.9 Ambiente (*environment*/*workspace*)

---

# 2.9 Ambiente (*environment*/*workspace*)
### Listar todos os objetos criados

```r
# listar objetos criados
ls()
```

```
##  [1] "adi"       "bar"       "foo"       "lo"        "mu"       
##  [6] "obj"       "obj_10"    "obj_2"     "rep_each"  "rep_times"
## [11] "sq"        "su"        "sub"       "va1"       "va2"
```
--

```r
objects()
```

```
##  [1] "adi"       "bar"       "foo"       "lo"        "mu"       
##  [6] "obj"       "obj_10"    "obj_2"     "rep_each"  "rep_times"
## [11] "sq"        "su"        "sub"       "va1"       "va2"
```

---

background-image: url(https://media.giphy.com/media/xB1md2I2W16IXil1BO/giphy.gif)
background-size: 600px
background-position: 50% 70%

# 2.9 Ambiente (*environment*/*workspace*)

## CUIDADO 3!

### Toda a vez que **fechamos o R**, os objetos criados são **apagados**!

---

# 2.9 Ambiente (*environment*/*workspace*)

&lt;br&gt;&lt;br&gt;

### Salvar todos os objetos criados
`Session -&gt; Save Workspace As... -&gt; meus_objetos.RData` 

&lt;br&gt;&lt;br&gt;
--

### Carregar os objetos criados e salvos
`Session -&gt; Load Workspace... -&gt; meus_objetos.RData` 

---

# 2.9 Ambiente (*environment*/*workspace*)

### Remover um objeto


```r
ls()
```

```
##  [1] "adi"       "bar"       "foo"       "lo"        "mu"       
##  [6] "obj"       "obj_10"    "obj_2"     "rep_each"  "rep_times"
## [11] "sq"        "su"        "sub"       "va1"       "va2"
```
--

```r
rm(bar)
```
--

```r
ls()
```

```
##  [1] "adi"       "foo"       "lo"        "mu"        "obj"      
##  [6] "obj_10"    "obj_2"     "rep_each"  "rep_times" "sq"       
## [11] "su"        "sub"       "va1"       "va2"
```

---

# 2.9 Ambiente (*environment*/*workspace*)

### Remover todos os objetos


```r
ls()
```

```
##  [1] "adi"       "foo"       "lo"        "mu"        "obj"      
##  [6] "obj_10"    "obj_2"     "rep_each"  "rep_times" "sq"       
## [11] "su"        "sub"       "va1"       "va2"
```
--

```r
rm(list = ls())
```
--

```r
ls()
```

```
## character(0)
```

---

# 2.9 Ambiente (*environment*/*workspace*)

&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;

### Carregar os objetos criados e salvos
`Session -&gt; Load Workspace... -&gt; meus_objetos.RData` 


```r
ls()
```

---

# 2.10 Citações

## Como citar o R e os pacotes em trabalhos?


```r
## citacao do r e dos pacotes

# citacao do R
citation()
```

```
## 
## To cite R in publications use:
## 
##   R Core Team (2019). R: A language and environment for
##   statistical computing. R Foundation for Statistical Computing,
##   Vienna, Austria. URL https://www.R-project.org/.
## 
## A BibTeX entry for LaTeX users is
## 
##   @Manual{,
##     title = {R: A Language and Environment for Statistical Computing},
##     author = {{R Core Team}},
##     organization = {R Foundation for Statistical Computing},
##     address = {Vienna, Austria},
##     year = {2019},
##     url = {https://www.R-project.org/},
##   }
## 
## We have invested a lot of time and effort in creating R, please
## cite it when using it for data analysis. See also
## 'citation("pkgname")' for citing R packages.
```

---

# 2.10 Citações

## Como citar o R e os pacotes em trabalhos?

```r
# citacao dos pacotes
citation("vegan")
```

```
## 
## To cite package 'vegan' in publications use:
## 
##   Jari Oksanen, F. Guillaume Blanchet, Michael Friendly, Roeland
##   Kindt, Pierre Legendre, Dan McGlinn, Peter R. Minchin, R. B.
##   O'Hara, Gavin L. Simpson, Peter Solymos, M. Henry H. Stevens,
##   Eduard Szoecs and Helene Wagner (2019). vegan: Community Ecology
##   Package. R package version 2.5-6.
##   https://CRAN.R-project.org/package=vegan
## 
## A BibTeX entry for LaTeX users is
## 
##   @Manual{,
##     title = {vegan: Community Ecology Package},
##     author = {Jari Oksanen and F. Guillaume Blanchet and Michael Friendly and Roeland Kindt and Pierre Legendre and Dan McGlinn and Peter R. Minchin and R. B. O'Hara and Gavin L. Simpson and Peter Solymos and M. Henry H. Stevens and Eduard Szoecs and Helene Wagner},
##     year = {2019},
##     note = {R package version 2.5-6},
##     url = {https://CRAN.R-project.org/package=vegan},
##   }
## 
## ATTENTION: This citation information has been auto-generated from
## the package DESCRIPTION file and may need manual editing, see
## 'help("citation")'.
```

---

# 2.11 Principais erros

## 1. Esquecer de completar um comando (+)

Parênteses

```r
sum(1, 2
+
```

```
## Error: &lt;text&gt;:3:0: unexpected end of input
## 1: sum(1, 2
## 2: +
##   ^
```

Aspas

```r
"string
+
```

```
## Error: &lt;text&gt;:1:1: unexpected INCOMPLETE_STRING
## 1: "string
## 2: +
##    ^
```

---

# 2.11 Principais erros

## 2. Esquecer da vírgula

```r
sum(1 2)
```

```
## Error: &lt;text&gt;:1:7: unexpected numeric constant
## 1: sum(1 2
##           ^
```

---

# 2.11 Principais erros

## 3. Chamar um objeto errado

```r
obj &lt;- 10
OBJ
```

```
## Error in eval(expr, envir, enclos): object 'OBJ' not found
```

---

# 2.11 Principais erros

## 4. Esquecer de carregar um pacote

```r
ggplot(iris) + aes(Sepal.Length, Sepal.Width) + geom_point()
```

```
## Error in ggplot(iris): could not find function "ggplot"
```

---

# 2.11 Principais erros

## 4. Esquecer de carregar um pacote

```r
library(ggplot2)
ggplot(iris) + aes(Sepal.Length, Sepal.Width) + geom_point() + theme_bw()
```

![](02_apres_xaringan_geoprocessamento_files/figure-html/unnamed-chunk-68-1.png)&lt;!-- --&gt;

---

background-image: url(https://upload.wikimedia.org/wikipedia/commons/thumb/c/c8/CamelCase_new.svg/1200px-CamelCase_new.svg.png)
background-size: 350px
background-position: 50% 90%

# 2.11 Principais erros

## 5. Usar o nome da função de forma errônea

```r
rowSums(iris[1:10, -5])
```

```
##    1    2    3    4    5    6    7    8    9   10 
## 10.2  9.5  9.4  9.4 10.2 11.4  9.7 10.1  8.9  9.6
```

---

background-image: url(https://upload.wikimedia.org/wikipedia/commons/thumb/c/c8/CamelCase_new.svg/1200px-CamelCase_new.svg.png)
background-size: 350px
background-position: 50% 90%

# 2.11 Principais erros

## 5. Usar o nome da função de forma errônea

```r
rowsums(iris[1:10, -5])
```

```
## Error in rowsums(iris[1:10, -5]): could not find function "rowsums"
```


---

class: inverse, middle, center

# Dúvidas?

---

class: clear, middle

## Maurício Vancine

&lt;br&gt;

Contatos:

|                                                                                           |                               |
| :---------------------------------------------------------------------------------------- | :---------------------------- |
| &lt;a href="mailto:mauricio.vancine@gmail.com"&gt;.RUred[&lt;i class="fa fa-envelope fa-fw"&gt;&lt;/i&gt;]  | mauricio.vancine@gmail.com    |
| &lt;a href="https://mauriciovancine.netlify.com/"&gt;.RUred[&lt;i class="fa fa-link fa-fw"&gt;&lt;/i&gt;]   | mauriciovancine.netlify.com   |
| &lt;a href="http://twitter.com/mauriciovancine"&gt;.RUred[&lt;i class="fa fa-twitter fa-fw"&gt;&lt;/i&gt;]  | @mauriciovancine              |
| &lt;a href="http://gitlab.com/mauriciovancine"&gt;.RUred[&lt;i class="fa fa-gitlab fa-fw"&gt;&lt;/i&gt;]    | @mauriciovancine              |
| &lt;a href="http://github.com/mauriciovancine"&gt;.RUred[&lt;i class="fa fa-github fa-fw"&gt;&lt;/i&gt;]    | @mauriciovancine              |

Slides criados via pacote [xaringan](https://github.com/yihui/xaringan) e tema [Metropolis](https://github.com/pat-s/xaringan-metropolis)
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightLines": true,
"countIncrementalSlides": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
